import{R as k,r as H,f as Ue,b as d,F as Ke,j as I,h as Fe,i as $e}from"./vendor-60533d1b.chunk.js";import{c as Ae,E as ve,L as ye,S as Ve,g as Ge,u as Be}from"./404-b20da86c.js";import{G as Se,c as De,_ as de,d as _e,D as ze,f as ge,E as we,L as K,e as G,g as Pe,A as Oe,i as j,h as Ee,j as R,k as We,l as V,m as W,n as ae,o as He,p as Qe,q as qe,r as Xe,s as Ye,t as Ze,v as Z,X as Ce,Y as Te,w as Je,u as Ie,b as M,x as et,R as tt,B as nt,T as it,a as le,P as at}from"./Tab-85230cac.chunk.js";import{h as J}from"./moment-57df9225.chunk.js";import{H as rt}from"./index-4e9d54e7.chunk.js";var st=["type","layout","connectNulls","ref"];function Q(e){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(e)}function ot(e,t){if(e==null)return{};var i=ct(e,t),n,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ct(e,t){if(e==null)return{};var i={},n=Object.keys(e),a,r;for(r=0;r<n.length;r++)a=n[r],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},te.apply(this,arguments)}function he(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,n)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?he(Object(i),!0).forEach(function(n){T(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):he(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function z(e){return _t(e)||dt(e)||lt(e)||pt()}function pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lt(e,t){if(e){if(typeof e=="string")return ue(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ue(e,t)}}function dt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _t(e){if(Array.isArray(e))return ue(e)}function ue(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ne(n.key),n)}}function mt(e,t,i){return t&&be(e.prototype,t),i&&be(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function ft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&me(e,t)}function me(e,t){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},me(e,t)}function vt(e){var t=gt();return function(){var n=re(e),a;if(t){var r=re(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return yt(this,a)}}function yt(e,t){if(t&&(Q(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function $(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},re(e)}function T(e,t,i){return t=Ne(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ne(e){var t=ht(e,"string");return Q(t)==="symbol"?t:String(t)}function ht(e,t){if(Q(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t||"default");if(Q(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ie=function(e){ft(i,e);var t=vt(i);function i(){var n;ut(this,i);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r)),T($(n),"state",{isAnimationFinished:!0,totalLength:0}),T($(n),"getStrokeDasharray",function(o,l,_){for(var m=_.reduce(function(g,b){return g+b}),f=Math.floor(o/m),u=o%m,c=l-o,p=[],y=0,v=0;;v+=_[y],++y)if(v+_[y]>u){p=[].concat(z(_.slice(0,y)),[u-v]);break}var h=p.length%2===0?[0,c]:[c];return[].concat(z(i.repeat(_,f)),z(p),h).map(function(g){return"".concat(g,"px")}).join(", ")}),T($(n),"id",De("recharts-line-")),T($(n),"pathRef",function(o){n.mainCurve=o}),T($(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),T($(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return mt(i,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,_=s.yAxis,m=s.layout,f=s.children,u=ge(f,we);if(!u)return null;var c=function(v,h){return{x:v.x,y:v.y,value:v.value,errorVal:W(v.payload,h)}},p={clipPath:a?"url(#clipPath-".concat(r,")"):null};return k.createElement(K,p,u.map(function(y,v){return k.cloneElement(y,{key:"bar-".concat(v),data:o,xAxis:l,yAxis:_,layout:m,dataPointFormatter:c})}))}},{key:"renderDots",value:function(a,r,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,_=l.dot,m=l.points,f=l.dataKey,u=G(this.props),c=G(_,!0),p=m.map(function(v,h){var g=w(w(w({key:"dot-".concat(h),r:3},u),c),{},{value:v.value,dataKey:f,cx:v.x,cy:v.y,index:h,payload:v.payload});return i.renderDotItem(_,g)}),y={clipPath:a?"url(#clipPath-".concat(r?"":"dots-").concat(s,")"):null};return k.createElement(K,te({className:"recharts-line-dots",key:"dots"},y,{role:"img"}),p)}},{key:"renderCurveStatically",value:function(a,r,s,o){var l=this.props,_=l.type,m=l.layout,f=l.connectNulls;l.ref;var u=ot(l,st),c=w(w(w({},G(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:r?"url(#clipPath-".concat(s,")"):null,points:a},o),{},{type:_,layout:m,connectNulls:f});return k.createElement(Pe,te({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,r){var s=this,o=this.props,l=o.points,_=o.strokeDasharray,m=o.isAnimationActive,f=o.animationBegin,u=o.animationDuration,c=o.animationEasing,p=o.animationId,y=o.animateNewValues,v=o.width,h=o.height,g=this.state,b=g.prevPoints,x=g.totalLength;return k.createElement(Oe,{begin:f,duration:u,isActive:m,easing:c,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var A=S.t;if(b){var O=b.length/l.length,E=l.map(function(D,pe){var X=Math.floor(pe*O);if(b[X]){var Y=b[X],B=j(Y.x,D.x),Re=j(Y.y,D.y);return w(w({},D),{},{x:B(A),y:Re(A)})}if(y){var Me=j(v*2,D.x),Le=j(h/2,D.y);return w(w({},D),{},{x:Me(A),y:Le(A)})}return w(w({},D),{},{x:D.x,y:D.y})});return s.renderCurveStatically(E,a,r)}var L=j(0,x),C=L(A),U;if(_){var N="".concat(_).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});U=s.getStrokeDasharray(C,x,N)}else U="".concat(C,"px ").concat(x-C,"px");return s.renderCurveStatically(l,a,r,{strokeDasharray:U})})}},{key:"renderCurve",value:function(a,r){var s=this.props,o=s.points,l=s.isAnimationActive,_=this.state,m=_.prevPoints,f=_.totalLength;return l&&o&&o.length&&(!m&&f>0||!Ee(m,o))?this.renderCurveWithAnimation(a,r):this.renderCurveStatically(o,a,r)}},{key:"render",value:function(){var a,r=this.props,s=r.hide,o=r.dot,l=r.points,_=r.className,m=r.xAxis,f=r.yAxis,u=r.top,c=r.left,p=r.width,y=r.height,v=r.isAnimationActive,h=r.id;if(s||!l||!l.length)return null;var g=this.state.isAnimationFinished,b=l.length===1,x=_e("recharts-line",_),S=m&&m.allowDataOverflow,A=f&&f.allowDataOverflow,O=S||A,E=R(h)?this.id:h,L=(a=G(o))!==null&&a!==void 0?a:{r:3,strokeWidth:2},C=L.r,U=C===void 0?3:C,N=L.strokeWidth,D=N===void 0?2:N,pe=We(o)?o:{},X=pe.clipDot,Y=X===void 0?!0:X,B=U*2+D;return k.createElement(K,{className:x},S||A?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(E)},k.createElement("rect",{x:S?c:c-p/2,y:A?u:u-y/2,width:S?p:p*2,height:A?y:y*2})),!Y&&k.createElement("clipPath",{id:"clipPath-dots-".concat(E)},k.createElement("rect",{x:c-B/2,y:u-B/2,width:p+B,height:y+B}))):null,!b&&this.renderCurve(O,E),this.renderErrorBar(O,E),(b||o)&&this.renderDots(O,Y,E),(!v||g)&&V.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,r){return a.animationId!==r.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:r.curPoints}:a.points!==r.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,r){for(var s=a.length%2!==0?[].concat(z(a),[0]):a,o=[],l=0;l<r;++l)o=[].concat(z(o),z(s));return o}},{key:"renderDotItem",value:function(a,r){var s;if(k.isValidElement(a))s=k.cloneElement(a,r);else if(de(a))s=a(r);else{var o=_e("recharts-line-dot",a?a.className:"");s=k.createElement(ze,te({},r,{className:o}))}return s}}]),i}(H.PureComponent);T(ie,"displayName","Line");T(ie,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Se.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});T(ie,"getComposedData",function(e){var t=e.props,i=e.xAxis,n=e.yAxis,a=e.xAxisTicks,r=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,_=e.offset,m=t.layout,f=l.map(function(u,c){var p=W(u,s);return m==="horizontal"?{x:ae({axis:i,ticks:a,bandSize:o,entry:u,index:c}),y:R(p)?null:n.scale(p),value:p,payload:u}:{x:R(p)?null:i.scale(p),y:ae({axis:n,ticks:r,bandSize:o,entry:u,index:c}),value:p,payload:u}});return w({points:f,layout:m},_)});var oe=function(){return null};oe.displayName="ZAxis";oe.defaultProps={zAxisId:0,range:[64,64],scale:"auto",type:"number"};function q(e){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(e)}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ne.apply(this,arguments)}function ke(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,n)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ke(Object(i),!0).forEach(function(n){F(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ke(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,je(n.key),n)}}function kt(e,t,i){return t&&xe(e.prototype,t),i&&xe(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function xt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fe(e,t)}function fe(e,t){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fe(e,t)}function At(e){var t=Dt();return function(){var n=se(e),a;if(t){var r=se(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return St(this,a)}}function St(e,t){if(t&&(q(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}function ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},se(e)}function F(e,t,i){return t=je(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function je(e){var t=wt(e,"string");return q(t)==="symbol"?t:String(t)}function wt(e,t){if(q(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t||"default");if(q(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ce=function(e){xt(i,e);var t=At(i);function i(){var n;bt(this,i);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r)),F(ee(n),"state",{isAnimationFinished:!1}),F(ee(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),F(ee(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),F(ee(n),"id",De("recharts-scatter-")),n}return kt(i,[{key:"renderSymbolsStatically",value:function(a){var r=this,s=this.props,o=s.shape,l=s.activeShape,_=s.activeIndex,m=G(this.props);return a.map(function(f,u){var c=P(P({key:"symbol-".concat(u)},m),f);return k.createElement(K,ne({className:"recharts-scatter-symbol"},Qe(r.props,f,u),{key:"symbol-".concat(u),role:"img"}),i.renderSymbolItem(_===u?l:o,c))})}},{key:"renderSymbolsWithAnimation",value:function(){var a=this,r=this.props,s=r.points,o=r.isAnimationActive,l=r.animationBegin,_=r.animationDuration,m=r.animationEasing,f=r.animationId,u=this.state.prevPoints;return k.createElement(Oe,{begin:l,duration:_,isActive:o,easing:m,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(c){var p=c.t,y=s.map(function(v,h){var g=u&&u[h];if(g){var b=j(g.cx,v.cx),x=j(g.cy,v.cy),S=j(g.size,v.size);return P(P({},v),{},{cx:b(p),cy:x(p),size:S(p)})}var A=j(0,v.size);return P(P({},v),{},{size:A(p)})});return k.createElement(K,null,a.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var a=this.props,r=a.points,s=a.isAnimationActive,o=this.state.prevPoints;return s&&r&&r.length&&(!o||!Ee(o,r))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(r)}},{key:"renderErrorBar",value:function(){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var r=this.props,s=r.points,o=r.xAxis,l=r.yAxis,_=r.children,m=ge(_,we);return m?m.map(function(f,u){var c=f.props.direction;return k.cloneElement(f,{key:u,data:s,xAxis:o,yAxis:l,layout:c==="x"?"vertical":"horizontal",dataPointFormatter:function(y,v){return{x:y.cx,y:y.cy,value:c==="x"?+y.node.x:+y.node.y,errorVal:W(y,v)}}})}):null}},{key:"renderLine",value:function(){var a=this.props,r=a.points,s=a.line,o=a.lineType,l=a.lineJointType,_=G(this.props),m=G(s),f,u;if(o==="joint")f=r.map(function(x){return{x:x.cx,y:x.cy}});else if(o==="fitting"){var c=qe(r),p=c.xmin,y=c.xmax,v=c.a,h=c.b,g=function(S){return v*S+h};f=[{x:p,y:g(p)},{x:y,y:g(y)}]}var b=P(P(P({},_),{},{fill:"none",stroke:_&&_.fill},m),{},{points:f});return k.isValidElement(s)?u=k.cloneElement(s,b):de(s)?u=s(b):u=k.createElement(Pe,ne({},b,{type:l})),k.createElement(K,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}},{key:"render",value:function(){var a=this.props,r=a.hide,s=a.points,o=a.line,l=a.className,_=a.xAxis,m=a.yAxis,f=a.left,u=a.top,c=a.width,p=a.height,y=a.id,v=a.isAnimationActive;if(r||!s||!s.length)return null;var h=this.state.isAnimationFinished,g=_e("recharts-scatter",l),b=_&&_.allowDataOverflow,x=m&&m.allowDataOverflow,S=b||x,A=R(y)?this.id:y;return k.createElement(K,{className:g,clipPath:S?"url(#clipPath-".concat(A,")"):null},b||x?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(A)},k.createElement("rect",{x:b?f:f-c/2,y:x?u:u-p/2,width:b?c:c*2,height:x?p:p*2}))):null,o&&this.renderLine(),this.renderErrorBar(),k.createElement(K,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||h)&&V.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,r){return a.animationId!==r.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:r.curPoints}:a.points!==r.curPoints?{curPoints:a.points}:null}},{key:"renderSymbolItem",value:function(a,r){var s;return k.isValidElement(a)?s=k.cloneElement(a,r):de(a)?s=a(r):typeof a=="string"&&(s=k.createElement(He,ne({},r,{type:a}))),s}}]),i}(H.PureComponent);F(ce,"displayName","Scatter");F(ce,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Se.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});F(ce,"getComposedData",function(e){var t=e.xAxis,i=e.yAxis,n=e.zAxis,a=e.item,r=e.displayedData,s=e.xAxisTicks,o=e.yAxisTicks,l=e.offset,_=a.props.tooltipType,m=ge(a.props.children,Xe),f=R(t.dataKey)?a.props.dataKey:t.dataKey,u=R(i.dataKey)?a.props.dataKey:i.dataKey,c=n&&n.dataKey,p=n?n.range:oe.defaultProps.range,y=p&&p[0],v=t.scale.bandwidth?t.scale.bandwidth():0,h=i.scale.bandwidth?i.scale.bandwidth():0,g=r.map(function(b,x){var S=W(b,f),A=W(b,u),O=!R(c)&&W(b,c)||"-",E=[{name:R(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:S,payload:b,dataKey:f,type:_},{name:R(i.dataKey)?a.props.name:i.name||i.dataKey,unit:i.unit||"",value:A,payload:b,dataKey:u,type:_}];O!=="-"&&E.push({name:n.name||n.dataKey,unit:n.unit||"",value:O,payload:b,dataKey:c,type:_});var L=ae({axis:t,ticks:s,bandSize:v,entry:b,index:x,dataKey:f}),C=ae({axis:i,ticks:o,bandSize:h,entry:b,index:x,dataKey:u}),U=O!=="-"?n.scale(O):y,N=Math.sqrt(Math.max(U,0)/Math.PI);return P(P({},b),{},{cx:L,cy:C,x:L-N,y:C-N,xAxis:t,yAxis:i,zAxis:n,width:2*N,height:2*N,size:U,node:{x:S,y:A,z:O},tooltipPayload:E,tooltipPosition:{x:L,y:C},payload:b},m&&m[x]&&m[x].props)});return P({points:g},l)});var Pt=Ye({chartName:"ComposedChart",GraphicalChild:[ie,Ze,Z,ce],axisComponents:[{axisType:"xAxis",AxisComp:Ce},{axisType:"yAxis",AxisComp:Te},{axisType:"zAxis",AxisComp:oe}],formatAxisMap:Je});function Ot({ticker:e,token:t=null}){const i=J().format("YYYY-MM-DD"),n={dataset:"TaiwanStockDividendResult",data_id:e,start_date:`${J().year()-4}-01-01`,end_date:i},a=Ae(t?{...n,token:t}:n),r=Ie({url:{NVM_INC:"/Users/yisen/.nvm/versions/node/v22.18.0/include/node",npm_package_devDependencies__tailwindcss_typography:"^0.5.9",npm_package_devDependencies_prettier:"^2.8.7",npm_package_devDependencies_postcss_import:"^15.1.0",TERM_PROGRAM:"vscode",NODE:"/Users/yisen/.nvm/versions/node/v22.18.0/bin/node",INIT_CWD:"/Users/yisen/Documents/Web Design/stocks-watch-list",NVM_CD_FLAGS:"-q",npm_package_devDependencies_vite_imagetools:"^4.0.18",npm_package_dependencies_moment:"^2.29.4",npm_package_dependencies_axios:"^1.3.5",npm_package_homepage:"https://yisenliu.github.io/stocks-watch-list",npm_config_version_git_tag:"true",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_package_devDependencies_vite:"^4.2.0",npm_package_dependencies_pace_js:"^1.2.4",npm_package_dependencies__emotion_styled:"^11.10.8",TMPDIR:"/var/folders/n7/7qh333xj6kg5jm92j4mvf0600000gn/T/",npm_package_dependencies__mui_icons_material:"^5.11.16",npm_package_scripts_lint:"eslint . --ext .js,.jsx",npm_config_init_license:"MIT",TERM_PROGRAM_VERSION:"1.103.2",npm_package_scripts_dev:"vite",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",npm_package_dependencies_flexsearch:"^0.7.31",npm_package_dependencies_twin_macro:"^3.3.1",npm_package_dependencies_moment_business:"^3.0.1",npm_package_private:"true",npm_config_registry:"https://registry.yarnpkg.com",npm_package_scripts_server:"node server.cjs",npm_package_dependencies_react_dom:"^18.2.0",npm_package_dependencies__vercel_speed_insights:"^1.2.0",npm_package_readmeFilename:"README.md",npm_package_dependencies_idb:"^7.1.1",USER:"yisen",NVM_DIR:"/Users/yisen/.nvm",npm_package_description:"自訂台股與美股上市公司股票與 ETF 觀察名單。",npm_package_devDependencies__types_react:"^18.0.28",COMMAND_MODE:"unix2003",npm_package_scripts_deploy:"gh-pages -d dist",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.B2zOm12515/Listeners",npm_package_dependencies_lodash:"^4.17.21",__CF_USER_TEXT_ENCODING:"0x1F5:0x2:0x35",npm_package_devDependencies_postcss:"^8.4.21",npm_package_devDependencies_eslint:"^8.38.0",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_devDependencies_vite_plugin_markdown:"^2.1.0",npm_package_dependencies__mui_material:"^5.12.2",npm_package_devDependencies_eslint_plugin_prettier:"^4.2.1",npm_package_devDependencies__types_react_dom:"^18.0.11",PATH:"/var/folders/n7/7qh333xj6kg5jm92j4mvf0600000gn/T/yarn--1756261260942-0.3255565421028481:/Users/yisen/Documents/Web Design/stocks-watch-list/node_modules/.bin:/Users/yisen/.config/yarn/link/node_modules/.bin:/Users/yisen/.nvm/versions/node/v22.18.0/libexec/lib/node_modules/npm/bin/node-gyp-bin:/Users/yisen/.nvm/versions/node/v22.18.0/lib/node_modules/npm/bin/node-gyp-bin:/Users/yisen/.nvm/versions/node/v22.18.0/bin/node_modules/npm/bin/node-gyp-bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/opt/X11/bin:/Users/yisen/.yarn/bin:/Users/yisen/.config/yarn/global/node_modules/.bin:/Users/yisen/.nvm/versions/node/v22.18.0/bin:/Users/yisen/Library/Application Support/Code/User/globalStorage/github.copilot-chat/debugCommand",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["run","build"]}',_:"/Users/yisen/Documents/Web Design/stocks-watch-list/node_modules/.bin/vite",npm_package_devDependencies__tailwindcss_aspect_ratio:"^0.4.2",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/yisen/Documents/Web Design/stocks-watch-list",npm_package_devDependencies_tailwindcss:"^3.3.2",npm_package_dependencies_highlight_words:"^1.2.2",npm_package_scripts_preview:"vite preview",npm_package_devDependencies_eslint_plugin_react_hooks:"^4.6.0",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"stocks-watch-list",npm_package_devDependencies__babel_preset_react:"^7.22.5",npm_package_scripts_build:"vite build",npm_package_scripts_start:"nvm use 22.18.0",npm_package_devDependencies_sass:"^1.61.0",npm_config_version_commit_hooks:"true",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",npm_package_devDependencies_vite_plugin_babel_macros:"^1.0.6",npm_package_dependencies_react_router_dom:"^6.11.1",npm_package_devDependencies__tailwindcss_forms:"^0.5.3",npm_config_bin_links:"true",npm_package_dependencies_react_beautiful_dnd:"^13.1.1",npm_package_engines_node:"^22.18.0",npm_package_devDependencies_eslint_config_prettier:"^8.8.0",XPC_SERVICE_NAME:"application.com.microsoft.VSCode.110862266.110862272",npm_package_dependencies__emotion_react:"^11.10.8",npm_package_version:"1.0.0",npm_package_devDependencies_autoprefixer:"^10.4.14",HOME:"/Users/yisen",SHLVL:"1",npm_package_type:"module",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_config_save_prefix:"^",npm_config_strict_ssl:"true",npm_package_devDependencies_cross_env:"^7.0.3",npm_config_version_git_message:"v%s",npm_package_scripts_buildForGithub:"cross-env GithubPages=true yarn run build",npm_package_config_breakpoints_1:"1024",LOGNAME:"yisen",YARN_WRAP_OUTPUT:"false",npm_package_config_breakpoints_0:"768",npm_lifecycle_script:"vite build",npm_package_devDependencies_gh_pages:"^5.0.0",VSCODE_GIT_IPC_HANDLE:"/var/folders/n7/7qh333xj6kg5jm92j4mvf0600000gn/T/vscode-git-037e65386d.sock",npm_package_scripts_clean_cache:"yarn cache clean",npm_package_devDependencies__vitejs_plugin_react_swc:"^3.3.2",npm_package_dependencies_react:"^18.2.0",NVM_BIN:"/Users/yisen/.nvm/versions/node/v22.18.0/bin",npm_package_dependencies__mui_x_data_grid_pro:"^6.9.0",npm_config_version_git_sign:"",npm_config_ignore_scripts:"",npm_config_user_agent:"yarn/1.22.22 npm/? node/v22.18.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",npm_package_dependencies_recharts:"^2.5.0",npm_package_dependencies_express:"^4.18.2",npm_config_init_version:"1.0.0",npm_config_ignore_optional:"",COLORTERM:"truecolor",npm_node_execpath:"/Users/yisen/.nvm/versions/node/v22.18.0/bin/node",npm_package_devDependencies_eslint_plugin_react:"^7.32.2",npm_package_dependencies_http_proxy_middleware:"^2.0.6",npm_config_version_tag_prefix:"v",NODE_ENV:"production",VIPSHOME:"/Users/runner/work/sharp-libvips/sharp-libvips/target"}.GithubPages?"https://corsproxy.io/?"+encodeURIComponent("https://api.finmindtrade.com/api/v4/data"+a):"/api/stock"+a,timeout:8e3,headers:{"content-type":"application/x-www-form-urlencoded"}},[e]),[s,o]=H.useState(null);return H.useEffect(()=>{function l(){let _=null;const m=r.data;if(m.length){const f=m.reduce((c,p)=>{const y=J(p.date).year(),v="Q"+J(p.date).format("Q"),h=c.findIndex(g=>g.year===y);if(c.length===0||h===-1){const g={year:y};g[v]=p.stock_and_cache_dividend,g.total=p.stock_and_cache_dividend,c.push(g)}else c[h][v]?c[h][v]+=p.stock_and_cache_dividend:c[h][v]=p.stock_and_cache_dividend,c[h].total+=p.stock_and_cache_dividend;return c},[]),u=m.reduce((c,p)=>{const y=p.date.slice(0,4),v=p.date.slice(5),h=c.findIndex(g=>g.year===y);if(c.length===0||h===-1){const g={stock_id:p.stock_id,year:y,dividends:[{date:v,value:p.stock_and_cache_dividend}]};c.push(g)}else c[h].dividends.push({date:v,value:p.stock_and_cache_dividend});return c},[]);_={dividend_quarter:f.map(c=>({...c,Q1:c.Q1?parseFloat(c.Q1.toFixed(3)):null,Q2:c.Q2?parseFloat(c.Q2.toFixed(3)):null,Q3:c.Q3?parseFloat(c.Q3.toFixed(3)):null,Q4:c.Q4?parseFloat(c.Q4.toFixed(3)):null,total:c.total?parseFloat(c.total.toFixed(3)):null})),dividend_policy:u},o(_)}}r.data&&l()},[r.data]),{...r,data:s}}const Et=Ue`
  ${{width:"100%",textAlign:"left","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}};
  caption {
    ${{borderBottomWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(97 97 97 / var(--tw-border-opacity))",padding:"0.5rem",textAlign:"left",fontSize:"1.125rem",lineHeight:"1.55"}}
  }
  td {
    ${{padding:"0.5rem","--tw-text-opacity":"1",color:"rgb(189 189 189 / var(--tw-text-opacity))"}}
    &:last-child {
      text-align: right;
    }
  }
  tr:nth-of-type(even) {
    ${{backgroundColor:"rgb(255 255 255 / 0.05)"}}
  }
  tfoot {
    td {
      ${{borderTopWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(97 97 97 / var(--tw-border-opacity))",textAlign:"right","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}}
    }
  }
`;function Ct({year:e,dividends:t}){var r;let i=t.reduce((s,o)=>Math.round((s+o.value)*1e3)/1e3,0);const n=(r=i.toString().split(".")[1])==null?void 0:r.length,a=n<=3?n:3;return i=parseFloat(i).toFixed(a),d(M,{children:I("table",{css:Et,children:[d("caption",{children:`${e}年度股息`}),d("tfoot",{children:d("tr",{children:d("td",{colSpan:"2",children:i})})}),d("tbody",{children:t.reverse().map(({date:s,value:o})=>I("tr",{children:[d("td",{children:s}),d("td",{children:o})]},s))})]})})}function Tt({ticker:e,token:t}){const{data:i,error:n,stage:a}=Ot({ticker:e,token:t}),r=i==null?void 0:i.dividend_quarter,s=i==null?void 0:i.dividend_policy,o=m=>m.charAt(0).toUpperCase()+m.slice(1),l=200;let _=null;if(a==="fetching"&&(_=d(M,{children:d(ye,{})})),n&&(_=d(M,{children:d(ve,{children:n.message})})),a==="fetched")if(!r)_=d(M,{children:I("p",{className:"m-4 text-center text-white",children:[e," 未配息"]})});else{let m=d(tt,{height:300,debounce:300,children:I(Pt,{data:r,barCategoryGap:"20%",children:[d(Ce,{dataKey:"year",axisLine:!1,tickLine:!1,tick:{fill:"#ccc"}}),d(Te,{hide:!0,padding:{top:30},domain:[0,"dataMax"]}),d(et,{formatter:o}),d(Z,{dataKey:"Q1",stackId:"Quarter",fill:"#81c784",animationDuration:l,children:d(V,{position:"center",dataKey:"Q1"})}),d(Z,{dataKey:"Q2",stackId:"Quarter",fill:"#ef9a9a",animationDuration:l,children:d(V,{position:"center",dataKey:"Q2"})}),d(Z,{dataKey:"Q3",stackId:"Quarter",fill:"#bcaaa4",animationDuration:l,children:d(V,{position:"center",dataKey:"Q3"})}),d(Z,{dataKey:"Q4",stackId:"Quarter",fill:"#81d4fa",animationDuration:l,children:d(V,{position:"center",dataKey:"Q4"})}),d(ie,{type:"linear",dataKey:"total",stroke:"#ffffff",isAnimationActive:!1,children:d(V,{position:"top",dataKey:"total"})})]})}),f=s.reverse().map(({stock_id:u,year:c,dividends:p})=>d(Ct,{year:c,dividends:p},u));_=I("div",{className:"space-y-8",children:[d(M,{children:m}),f]})}return d(Ke,{children:_})}function It({date:e,link:t,source:i,title:n}){const a=n.replace(" - "+i,"");function r(){window.open(t,"_blank")}return I(M,{"data-name":"news-item",className:"text-white",onClick:r,children:[d("h1",{className:"text-lg",children:a}),I("footer",{className:"mt-4 text-sm text-right text-gray-400",children:[d("span",{children:i})," / ",d("time",{dateTime:e,children:e})]})]})}function Nt(e,t=null){const i=J().format("YYYY-MM-DD"),n={dataset:"TaiwanStockNews",data_id:e,start_date:i},a=Ae(t?{...n,token:t}:n),r=Ie({url:{NVM_INC:"/Users/yisen/.nvm/versions/node/v22.18.0/include/node",npm_package_devDependencies__tailwindcss_typography:"^0.5.9",npm_package_devDependencies_prettier:"^2.8.7",npm_package_devDependencies_postcss_import:"^15.1.0",TERM_PROGRAM:"vscode",NODE:"/Users/yisen/.nvm/versions/node/v22.18.0/bin/node",INIT_CWD:"/Users/yisen/Documents/Web Design/stocks-watch-list",NVM_CD_FLAGS:"-q",npm_package_devDependencies_vite_imagetools:"^4.0.18",npm_package_dependencies_moment:"^2.29.4",npm_package_dependencies_axios:"^1.3.5",npm_package_homepage:"https://yisenliu.github.io/stocks-watch-list",npm_config_version_git_tag:"true",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_package_devDependencies_vite:"^4.2.0",npm_package_dependencies_pace_js:"^1.2.4",npm_package_dependencies__emotion_styled:"^11.10.8",TMPDIR:"/var/folders/n7/7qh333xj6kg5jm92j4mvf0600000gn/T/",npm_package_dependencies__mui_icons_material:"^5.11.16",npm_package_scripts_lint:"eslint . --ext .js,.jsx",npm_config_init_license:"MIT",TERM_PROGRAM_VERSION:"1.103.2",npm_package_scripts_dev:"vite",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",npm_package_dependencies_flexsearch:"^0.7.31",npm_package_dependencies_twin_macro:"^3.3.1",npm_package_dependencies_moment_business:"^3.0.1",npm_package_private:"true",npm_config_registry:"https://registry.yarnpkg.com",npm_package_scripts_server:"node server.cjs",npm_package_dependencies_react_dom:"^18.2.0",npm_package_dependencies__vercel_speed_insights:"^1.2.0",npm_package_readmeFilename:"README.md",npm_package_dependencies_idb:"^7.1.1",USER:"yisen",NVM_DIR:"/Users/yisen/.nvm",npm_package_description:"自訂台股與美股上市公司股票與 ETF 觀察名單。",npm_package_devDependencies__types_react:"^18.0.28",COMMAND_MODE:"unix2003",npm_package_scripts_deploy:"gh-pages -d dist",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.B2zOm12515/Listeners",npm_package_dependencies_lodash:"^4.17.21",__CF_USER_TEXT_ENCODING:"0x1F5:0x2:0x35",npm_package_devDependencies_postcss:"^8.4.21",npm_package_devDependencies_eslint:"^8.38.0",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_devDependencies_vite_plugin_markdown:"^2.1.0",npm_package_dependencies__mui_material:"^5.12.2",npm_package_devDependencies_eslint_plugin_prettier:"^4.2.1",npm_package_devDependencies__types_react_dom:"^18.0.11",PATH:"/var/folders/n7/7qh333xj6kg5jm92j4mvf0600000gn/T/yarn--1756261260942-0.3255565421028481:/Users/yisen/Documents/Web Design/stocks-watch-list/node_modules/.bin:/Users/yisen/.config/yarn/link/node_modules/.bin:/Users/yisen/.nvm/versions/node/v22.18.0/libexec/lib/node_modules/npm/bin/node-gyp-bin:/Users/yisen/.nvm/versions/node/v22.18.0/lib/node_modules/npm/bin/node-gyp-bin:/Users/yisen/.nvm/versions/node/v22.18.0/bin/node_modules/npm/bin/node-gyp-bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/opt/X11/bin:/Users/yisen/.yarn/bin:/Users/yisen/.config/yarn/global/node_modules/.bin:/Users/yisen/.nvm/versions/node/v22.18.0/bin:/Users/yisen/Library/Application Support/Code/User/globalStorage/github.copilot-chat/debugCommand",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["run","build"]}',_:"/Users/yisen/Documents/Web Design/stocks-watch-list/node_modules/.bin/vite",npm_package_devDependencies__tailwindcss_aspect_ratio:"^0.4.2",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/yisen/Documents/Web Design/stocks-watch-list",npm_package_devDependencies_tailwindcss:"^3.3.2",npm_package_dependencies_highlight_words:"^1.2.2",npm_package_scripts_preview:"vite preview",npm_package_devDependencies_eslint_plugin_react_hooks:"^4.6.0",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"stocks-watch-list",npm_package_devDependencies__babel_preset_react:"^7.22.5",npm_package_scripts_build:"vite build",npm_package_scripts_start:"nvm use 22.18.0",npm_package_devDependencies_sass:"^1.61.0",npm_config_version_commit_hooks:"true",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",npm_package_devDependencies_vite_plugin_babel_macros:"^1.0.6",npm_package_dependencies_react_router_dom:"^6.11.1",npm_package_devDependencies__tailwindcss_forms:"^0.5.3",npm_config_bin_links:"true",npm_package_dependencies_react_beautiful_dnd:"^13.1.1",npm_package_engines_node:"^22.18.0",npm_package_devDependencies_eslint_config_prettier:"^8.8.0",XPC_SERVICE_NAME:"application.com.microsoft.VSCode.110862266.110862272",npm_package_dependencies__emotion_react:"^11.10.8",npm_package_version:"1.0.0",npm_package_devDependencies_autoprefixer:"^10.4.14",HOME:"/Users/yisen",SHLVL:"1",npm_package_type:"module",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_config_save_prefix:"^",npm_config_strict_ssl:"true",npm_package_devDependencies_cross_env:"^7.0.3",npm_config_version_git_message:"v%s",npm_package_scripts_buildForGithub:"cross-env GithubPages=true yarn run build",npm_package_config_breakpoints_1:"1024",LOGNAME:"yisen",YARN_WRAP_OUTPUT:"false",npm_package_config_breakpoints_0:"768",npm_lifecycle_script:"vite build",npm_package_devDependencies_gh_pages:"^5.0.0",VSCODE_GIT_IPC_HANDLE:"/var/folders/n7/7qh333xj6kg5jm92j4mvf0600000gn/T/vscode-git-037e65386d.sock",npm_package_scripts_clean_cache:"yarn cache clean",npm_package_devDependencies__vitejs_plugin_react_swc:"^3.3.2",npm_package_dependencies_react:"^18.2.0",NVM_BIN:"/Users/yisen/.nvm/versions/node/v22.18.0/bin",npm_package_dependencies__mui_x_data_grid_pro:"^6.9.0",npm_config_version_git_sign:"",npm_config_ignore_scripts:"",npm_config_user_agent:"yarn/1.22.22 npm/? node/v22.18.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",npm_package_dependencies_recharts:"^2.5.0",npm_package_dependencies_express:"^4.18.2",npm_config_init_version:"1.0.0",npm_config_ignore_optional:"",COLORTERM:"truecolor",npm_node_execpath:"/Users/yisen/.nvm/versions/node/v22.18.0/bin/node",npm_package_devDependencies_eslint_plugin_react:"^7.32.2",npm_package_dependencies_http_proxy_middleware:"^2.0.6",npm_config_version_tag_prefix:"v",NODE_ENV:"production",VIPSHOME:"/Users/runner/work/sharp-libvips/sharp-libvips/target"}.GithubPages?"https://corsproxy.io/?"+encodeURIComponent("https://api.finmindtrade.com/api/v4/data"+a):"/api/stock"+a,timeout:3e4,headers:{"content-type":"application/x-www-form-urlencoded",accept:"application / json"}},[e]);if(r.data){const s=[...r.data];r.data=s.reverse()}return r}function jt({ticker:e,token:t}){const i=Nt(e,t),{data:n,error:a,stage:r}=i;let s=null;return r==="fetching"&&(s=d(M,{children:d(ye,{})})),a&&(s=d(M,{children:d(ve,{children:a.message})})),n&&(n.length>0?s=n.map((o,l)=>Fe(It,{...o,key:l+o.date})):s=d(M,{children:d("p",{className:"m-4 text-center text-white",children:"無相關新聞"})})),d("div",{className:"space-y-4",children:s})}function Rt(e){let t,i={tw:()=>({dataset:"TaiwanStockPrice",closeKey:"close",maxKey:"max",minKey:"min"}),us:()=>({dataset:"USStockPrice",closeKey:"Close",maxKey:"High",minKey:"Low"}),default(){throw new Error("unknown market")}};return t=e?i[e]:i.default,t()}function $t(){const e=$e(),{market:t,token:i}=H.useContext(Ve),{dataset:n,closeKey:a,maxKey:r,minKey:s}=Rt(t),o=Ge(t),{data:l,error:_,stage:m}=Be(o,i,`stocks_info_${t}`),f=(l==null?void 0:l.find(h=>h.stock_id===e.toUpperCase()))||null,[u,c]=H.useState(localStorage.getItem(`${t}_details_active_tab`)||"HistoryInfo"),p={HistoryInfo:d(rt,{dataset:n,data_id:e,token:i,closeKey:a,maxKey:r,minKey:s}),Dividend:d(Tt,{ticker:e,token:i}),StockNews:d(jt,{ticker:e,token:i})};function y({component:h}){return p[h]}function v(h,g){c(g),localStorage.setItem(`${t}_details_active_tab`,g)}if(m==="fetched"&&!f)throw new Error(`查無 ${e} 資料。`);return I(at,{name:"stock_details_portal",children:[f&&d(nt,{to:-1,stock_id:f.stock_id,title:f.stock_name}),m==="fetching"&&d(ye,{}),_&&d(ve,{children:_.message}),m==="fetched"&&I("div",{className:"min-h-full pb-8 bg-gray-900",children:[d("div",{"data-name":"tabs",className:"z-5 bg-primary sticky top-0 text-white",children:I(it,{value:u,onChange:v,TabIndicatorProps:{sx:{bgcolor:"white"}},textColor:"inherit","aria-label":"tabs for the stock details",children:[d(le,{disableRipple:!0,label:"走勢",value:"HistoryInfo",sx:{fontSize:16}}),d(le,{disableRipple:!0,label:"股息",value:"Dividend",sx:{fontSize:16,display:t!=="tw"?"none":"flex"},disabled:t!=="tw"}),d(le,{disableRipple:!0,label:"新聞",value:"StockNews",sx:{fontSize:16,display:t!=="tw"?"none":"flex"},disabled:t!=="tw"})]})}),d("div",{"data-name":"tab-panel",className:"bg-gradient-to-b from-primary from-[60px] via-gray-900 via-[60px] to-gray-900 pt-8 px-2",children:d(y,{component:u},u)})]})]})}export{$t as StockDetails};
