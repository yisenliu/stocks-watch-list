import{u as g,a as C,r as i,j as v,b as c,O as w,F as x}from"./vendor-262f8ba3.chunk.js";import{b as D,g as j,D as B}from"./muiDataGrid-b223cdf5.chunk.js";import{c as F,f as P}from"./404-a52e1c64.js";import{h as m}from"./moment-e953ecbf.chunk.js";const O=["United States 1-Month","United States 2-Month","United States 3-Month","United States 6-Month","United States 1-Year","United States 2-Year","United States 3-Year","United States 5-Year","United States 10-Year","United States 20-Year","United States 30-Year"];let d=new Map;function L(){const{bound_data_id:l}=g(),h=C(),[p,f]=i.useState(null),[u,S]=i.useState(null);function y(t){if(d.has(t))return d.get(t);const s={dataset:"GovernmentBondsYield",data_id:t,start_date:m().subtract(10,"days").format("YYYY-MM-DD")},o=F(s);return P({url:"https://corsproxy.io/?"+encodeURIComponent("https://api.finmindtrade.com/api/v4/data"+o),headers:{"content-type":"application/x-www-form-urlencoded"}}).then(e=>e.data.data).then(e=>{const a=e.slice(-3).reverse(),r=a.map(b=>{const{date:U,value:M}=b;return{[m(U).format("MM/DD")]:M}}),n=Object.assign({id:a[0].name},...r);return d.set(t,n),n})}function Y(t){h(t.id)}return i.useEffect(()=>{const t=O.map(s=>y(s));Promise.all(t).then(s=>{const o=s[0],e=[];Object.keys(o).forEach(a=>{if(a!=="id"&&!e[a]){const r={align:"center",field:a,headerName:a,headerAlign:"center",sortable:!1,type:"number",width:70,valueFormatter:n=>n.value};e.push(r)}}),f([...D,...e]),S(s)})},[]),v(x,{children:[!l&&u&&c(B,{className:"-m-4",columns:p,disableColumnMenu:!0,disableColumnResize:!0,hideFooter:!0,onRowClick:Y,rows:u,sx:j}),c(w,{})]})}export{L as TreasuryBoundList};
