import{r as d,j as c,b as a,F as x}from"./vendor-262f8ba3.chunk.js";import{u as y,B as D,T as P,a as v,C as S,b as Y,S as E,H as k,P as w}from"./Tab-5c183902.chunk.js";import{c as C,L as G,E as M}from"./404-a52e1c64.js";import{h}from"./moment-e953ecbf.chunk.js";function T(){const t={dataset:"GoldPrice",start_date:h().subtract(1,"year").format("YYYY-MM-DD"),end_date:h().format("YYYY-MM-DD")},n=C(t),r=y({url:"https://corsproxy.io/?"+encodeURIComponent("https://api.finmindtrade.com/api/v4/data"+n),timeout:8e3,headers:{"content-type":"application/x-www-form-urlencoded"}},[]),[l,m]=d.useState(null);return d.useEffect(()=>{function s(){const e=r.data;let o=e[0].date.split(" ")[0];const i=e.reduce((p,u,g,b)=>{if(u.date.split(" ")[0]!==o){let f={id:o,date:o,close:b[g-1].Price};f.close<9999&&p.push(f),o=u.date.split(" ")[0]}return p},[]);m(i)}r.data&&s()},[r.data]),{...r,data:l}}function z(){const{data:t,error:n,stage:r}=T(),[l,m]=d.useState({min:null,max:null});return d.useEffect(()=>{if(t){let s=null,e=null;t.forEach(o=>{const i=o.close;(!e||i>e)&&(e=i),(!s||i<s)&&(s=i)}),m({min:s,max:e})}},[t]),c(w,{children:[a(D,{to:-1,title:"Gold Price"}),c("div",{className:"min-h-full pb-8 bg-gray-900",children:[a("div",{className:"z-5 bg-primary sticky top-0 text-white",children:a(P,{value:"HistoryInfo",TabIndicatorProps:{sx:{bgcolor:"white"}},textColor:"inherit","aria-label":"tabs for the stock details",children:a(v,{label:"走勢",value:"HistoryInfo",sx:{fontSize:16}})})}),a("div",{"data-name":"tab-panel",className:"bg-gray-900 bg-gradient-to-b from-primary from-[60px] via-transparent via-[60px] pt-8 px-2",children:a(S,{in:t,collapsedSize:90,children:c(Y,{"data-name":"price_history",className:"text-center",children:[r==="fetching"&&a(G,{}),n&&a(M,{children:n.message}),t&&c(x,{children:[a(E,{currentDurationLabel:"1年",currentValue:t[t.length-1].close,startValue:t[0].close,endDate:t[t.length-1].date,min:l.min,max:l.max}),a(k,{history:t,closeKey:"close"})]})]})})})]})]})}export{z as GoldPrice};
